
<ion-header>

  <ion-navbar>
    <ion-title>Add Appointment</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-content padding>
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      <ion-list>
        <ion-item>
          <ion-label fixed>Date</ion-label>
          <ion-datetime
          pickerFormat="MM/DD/YYYY"
          name = "date"
          ngModel
          required></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label>Time</ion-label>
          <ion-datetime
          pickerFormat="HH:mm"
          name = "time"
          ngModel
          required></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label>Doctor</ion-label>
          <ion-input name = "doctor"
          ngModel
          required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Notes</ion-label>
          <ion-input name = "notes"
          ngModel></ion-input>
        </ion-item>
      </ion-list>
      <ion-grid>
        <ion-row>
          <ion-col col-6>
            <button
              ion-button
              block
              outline
              type="button"
              icon-left
              (click)="onLocate()">
              <div>
                  <ion-icon name = 'locate'></ion-icon>
                  <br>
                  <label>Locate Me</label>
                </div>
            </button>
          </ion-col>
          <ion-col col-6>
            <button
              ion-button
              block
              outline
              type="button"
              icon-left
              (click)="onOpenMap()">
              <div>
                  <ion-icon name = 'map'></ion-icon>
                  <br>
                  <label>Select on Map</label>
                </div>
            </button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="locationIsSet">
          <ion-col>
            <sebm-google-map
              [latitude]="location.lat"
              [longitude]="location.lng"
              [zoom]="16">
              <sebm-google-map-marker
                [latitude]="location.lat"
                [longitude]="location.lng"></sebm-google-map-marker>
            </sebm-google-map>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <button
              ion-button
              color="secondary"
              block
              type="submit"
              [disabled]="!f.valid || !locationIsSet ">
              Add this Appointment
            </button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </ion-content>
  